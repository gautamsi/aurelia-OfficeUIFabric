<template>
    <style>
        .ms-SearchBox.is-active .ms-SearchBox-searchButton {
            display: block;
            outline: 1px solid transparent;
        }
        
        .ms-SearchBox-searchButton {
            border: none;
            border-right: 1px white solid;
            cursor: pointer;
            position: absolute;
            right: 33px;
            top: 0;
            height: 32px;
            width: 32px;
            background-color: #0078d7;
            text-align: center;
            display: none;
            font-size: 17px;
            color: #ffffff;
            z-index: 10;
        }
        
        .ms-SearchBox-field.searchButton:focus {
            padding-right: 64px;
        }
        .ms-SearchBox-label.hidden{
            display:none;
        }
    </style>
    <div ref="$searchBox" class="ms-SearchBox ${isActive ? 'is-active' : ''}">
        <input value.bind="text" class="ms-SearchBox-field ${searchButton === true || searchButton === 'true' ? 'searchButton' : ''} ${hovering ? 'hovering' : ''}"
        ref="$searchField" focus.trigger="searchFieldFocus()" blur.trigger="searchFieldBlur()"
        mouseover.trigger="searchFieldMouseOver()" mouseout.delegate="searchFieldMouseOut()">
        <label class="ms-SearchBox-label ${searchBoxLabelVisible ? '' : 'hidden'}"><i class="ms-SearchBox-icon ms-Icon ms-Icon--search"></i>${searchBoxLabelText}</label>
        <button mousedown.trigger="cancelButtonMouseDown()" class="ms-SearchBox-closeButton"><i class="ms-Icon ms-Icon--x"></i></button>
        <button if.bind="searchButton === true || searchButton" class="ms-SearchBox-searchButton ${text.length == 0? 'hiden':''}"
            mousedown.trigger="searchButtonMouseDown($event)"><i class="ms-Icon ms-Icon--search"></i></button>
    </div>
</template>